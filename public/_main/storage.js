const _0x44f46d=_0x2b30;(function(_0x14648a,_0x2cb21e){const _0x17b041=_0x2b30,_0x46cf2b=_0x14648a();while(!![]){try{const _0x3a5c05=-parseInt(_0x17b041(0x187))/0x1*(parseInt(_0x17b041(0x189))/0x2)+-parseInt(_0x17b041(0x169))/0x3+-parseInt(_0x17b041(0x18a))/0x4+parseInt(_0x17b041(0x16d))/0x5*(-parseInt(_0x17b041(0x184))/0x6)+-parseInt(_0x17b041(0x171))/0x7+-parseInt(_0x17b041(0x168))/0x8*(-parseInt(_0x17b041(0x17a))/0x9)+parseInt(_0x17b041(0x17e))/0xa*(parseInt(_0x17b041(0x172))/0xb);if(_0x3a5c05===_0x2cb21e)break;else _0x46cf2b['push'](_0x46cf2b['shift']());}catch(_0x51c05b){_0x46cf2b['push'](_0x46cf2b['shift']());}}}(_0x4dd6,0xa9fcb));import{CONSTANT}from'./constants.js';import{ref,onValue,set,update,remove}from'https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js';import{bapNotify}from'./util.js';import{bapDB}from'./firebaseInit.js';import{getI18nContent}from'./i18n.js';const storageI18n=getI18nContent(_0x44f46d(0x183),'cross'),encryptData=(_0x1f2fe1,_0x3f6a96)=>btoa(_0x1f2fe1)+_0x44f46d(0x175)+_0x3f6a96,decryptData=_0x36afb2=>atob(_0x36afb2[_0x44f46d(0x16f)]('/@/')[0x0]);export const dbRoutes={'test':_0x3f8885=>_0x44f46d(0x177)+_0x3f8885};export const getFromStorage=({storageType:_0x185349,item:_0x21eb56,callbackOnSuccess:_0x1cb4ec,callBackOnFail:_0x209a2d,secretKey:_0x3388fa})=>{const _0x3539b5=_0x44f46d;let _0x5bd2c5;switch(_0x185349){case CONSTANT['STORAGE']['SOURCE'][_0x3539b5(0x173)]:_0x5bd2c5=localStorage[_0x3539b5(0x166)](_0x21eb56),_0x3388fa?_0x5bd2c5=decryptData(_0x5bd2c5,_0x3388fa):null;return _0x5bd2c5?JSON['parse'](_0x5bd2c5):null;break;case CONSTANT['STORAGE'][_0x3539b5(0x16c)][_0x3539b5(0x17f)]:_0x5bd2c5=sessionStorage[_0x3539b5(0x166)](_0x21eb56),_0x3388fa?_0x5bd2c5=decryptData(_0x5bd2c5,_0x3388fa):null;return _0x5bd2c5?JSON[_0x3539b5(0x16a)](_0x5bd2c5):null;break;case CONSTANT[_0x3539b5(0x179)][_0x3539b5(0x16c)]['DB']:const _0x1eae14=ref(bapDB,_0x21eb56);onValue(_0x1eae14,_0x40936e=>_0x1cb4ec?_0x1cb4ec(_0x40936e[_0x3539b5(0x178)]()):null,_0x2cbf96=>{const _0x40f446=_0x3539b5;_0x209a2d?_0x209a2d():bapNotify(CONSTANT['NOTIFICATION']['TYPE'][_0x40f446(0x176)],CONSTANT[_0x40f446(0x180)][_0x40f446(0x182)][_0x40f446(0x181)],storageI18n[_0x40f446(0x16b)][_0x40f446(0x185)],_0x2cbf96);});break;}};function _0x2b30(_0x2558ef,_0xe557e4){const _0x4dd67f=_0x4dd6();return _0x2b30=function(_0x2b30bf,_0x4f3669){_0x2b30bf=_0x2b30bf-0x165;let _0xdb5e22=_0x4dd67f[_0x2b30bf];return _0xdb5e22;},_0x2b30(_0x2558ef,_0xe557e4);}export const setToStorage=({storageType:_0x43c6fd,item:_0x5d9fb6,value:_0x33fab8,callbackOnSuccess:_0x1fcc9f,callBackOnFail:_0x285b9e,secretKey:_0x3f8b5a})=>{const _0x588017=_0x44f46d;switch(_0x43c6fd){case CONSTANT[_0x588017(0x179)][_0x588017(0x16c)]['LOCAL']:const _0x3b08f7=JSON[_0x588017(0x17b)](_0x33fab8);localStorage[_0x588017(0x165)](_0x5d9fb6,_0x3f8b5a?encryptData(_0x3b08f7,_0x3f8b5a):_0x3b08f7);break;case CONSTANT[_0x588017(0x179)][_0x588017(0x16c)][_0x588017(0x17f)]:const _0xcbf040=JSON[_0x588017(0x17b)](_0x33fab8);sessionStorage[_0x588017(0x165)](_0x5d9fb6,_0x3f8b5a?encryptData(_0xcbf040,_0x3f8b5a):_0xcbf040);break;case CONSTANT[_0x588017(0x179)][_0x588017(0x16c)]['DB']:set(ref(bapDB,_0x5d9fb6),_0x33fab8)[_0x588017(0x186)](()=>{const _0x215243=_0x588017;_0x1fcc9f?setTimeout(()=>_0x1fcc9f(),CONSTANT['NOTIFICATION'][_0x215243(0x16e)][_0x215243(0x188)]+0x7d0):null;})['catch'](_0x5543df=>{const _0x14dbba=_0x588017;_0x285b9e?_0x285b9e():bapNotify(CONSTANT[_0x14dbba(0x180)]['TYPE'][_0x14dbba(0x176)],CONSTANT[_0x14dbba(0x180)][_0x14dbba(0x182)][_0x14dbba(0x181)],storageI18n[_0x14dbba(0x16b)][_0x14dbba(0x17d)],_0x5543df);});break;}};function _0x4dd6(){const _0x3e5767=['split','TYPE','945525qyyiwk','17215561OoKZGm','LOCAL','errorUpdating','/@/','ALERT','/test/','val','STORAGE','1405863XqNlml','stringify','catch','errorSaving','20kPugpb','SESSION','NOTIFICATION','ERROR','SEVERITY','page','2770902WxcULc','errorGetting','then','47867XnpaUB','INFO','26oLgMGR','1816628XHthFm','setItem','getItem','removeItem','48ObsUwW','2322369YmBMMn','parse','storage','SOURCE','15sTiQqX','AUTO_REMOVE_AFTER'];_0x4dd6=function(){return _0x3e5767;};return _0x4dd6();}export const updateStorage=({storageType:_0x2dcf66,item:_0x4a9216,value:_0x43e9fb,callbackOnSuccess:_0x75755,callBackOnFail:_0x22c742,secretKey:_0x53ee84})=>{const _0x390ea0=_0x44f46d;switch(_0x2dcf66){case CONSTANT[_0x390ea0(0x179)][_0x390ea0(0x16c)][_0x390ea0(0x173)]:const _0x350d03=JSON[_0x390ea0(0x17b)](_0x43e9fb);localStorage[_0x390ea0(0x165)](_0x4a9216,_0x53ee84?encryptData(_0x350d03,_0x53ee84):_0x350d03);break;case CONSTANT['STORAGE'][_0x390ea0(0x16c)][_0x390ea0(0x17f)]:const _0x46bb44=JSON[_0x390ea0(0x17b)](_0x43e9fb);sessionStorage['setItem'](_0x4a9216,_0x53ee84?encryptData(_0x46bb44,_0x53ee84):_0x46bb44);break;case CONSTANT['STORAGE']['SOURCE']['DB']:update(ref(bapDB,_0x4a9216),_0x43e9fb)[_0x390ea0(0x186)](()=>{const _0x13ec15=_0x390ea0;_0x75755&&(_0x75755?setTimeout(()=>_0x75755(),CONSTANT[_0x13ec15(0x180)][_0x13ec15(0x16e)]['INFO']+0x7d0):null);})[_0x390ea0(0x17c)](_0x3e626d=>{const _0x28916f=_0x390ea0;_0x22c742?_0x22c742():bapNotify(CONSTANT[_0x28916f(0x180)][_0x28916f(0x170)][_0x28916f(0x176)],CONSTANT[_0x28916f(0x180)]['SEVERITY'][_0x28916f(0x181)],storageI18n['storage'][_0x28916f(0x174)],_0x3e626d);});break;}};export const removeFromStorage=({storageType:_0x280f09,item:_0x1bf494,callbackOnSuccess:_0x4c1f0d,callBackOnFail:_0x53a904})=>{const _0x1c1a3d=_0x44f46d;switch(_0x280f09){case CONSTANT[_0x1c1a3d(0x179)]['SOURCE']['LOCAL']:return localStorage[_0x1c1a3d(0x167)](_0x1bf494);break;case CONSTANT[_0x1c1a3d(0x179)][_0x1c1a3d(0x16c)][_0x1c1a3d(0x17f)]:return sessionStorage[_0x1c1a3d(0x167)](_0x1bf494);break;case CONSTANT[_0x1c1a3d(0x179)][_0x1c1a3d(0x16c)]['DB']:remove(ref(bapDB,_0x1bf494))[_0x1c1a3d(0x186)](()=>{const _0x49efd2=_0x1c1a3d;_0x4c1f0d&&(_0x4c1f0d?setTimeout(()=>_0x4c1f0d(),CONSTANT[_0x49efd2(0x180)][_0x49efd2(0x16e)]['INFO']+0x7d0):null);})[_0x1c1a3d(0x17c)](_0x159a9c=>{const _0x5954ef=_0x1c1a3d;_0x53a904?_0x53a904():bapNotify(CONSTANT[_0x5954ef(0x180)][_0x5954ef(0x170)]['ALERT'],CONSTANT[_0x5954ef(0x180)]['SEVERITY']['ERROR'],storageI18n['storage']['errorRemoving'],_0x159a9c);});break;}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZU1hcCJdLCJuYW1lcyI6WyJzdG9yYWdlSTE4biIsImdldEkxOG5Db250ZW50IiwiZW5jcnlwdERhdGEiLCJfMHgxZjJmZTEiLCJfMHgzZjZhOTYiLCJidG9hIiwiZGVjcnlwdERhdGEiLCJfMHgzNmFmYjIiLCJhdG9iIiwiZGJSb3V0ZXMiLCJfMHgzZjg4ODUiLCJnZXRGcm9tU3RvcmFnZSIsInN0b3JhZ2VUeXBlIiwiXzB4MTg1MzQ5IiwiaXRlbSIsIl8weDIxZWI1NiIsImNhbGxiYWNrT25TdWNjZXNzIiwiXzB4MWNiNGVjIiwiY2FsbEJhY2tPbkZhaWwiLCJfMHgyMDlhMmQiLCJzZWNyZXRLZXkiLCJfMHgzMzg4ZmEiLCJfMHg1YmQyYzUiLCJDT05TVEFOVCIsImxvY2FsU3RvcmFnZSIsIkpTT04iLCJzZXNzaW9uU3RvcmFnZSIsIl8weDFlYWUxNCIsInJlZiIsImJhcERCIiwib25WYWx1ZSIsIl8weDQwOTM2ZSIsIl8weDJjYmY5NiIsImJhcE5vdGlmeSIsInNldFRvU3RvcmFnZSIsIl8weDQzYzZmZCIsIl8weDVkOWZiNiIsInZhbHVlIiwiXzB4MzNmYWI4IiwiXzB4MWZjYzlmIiwiXzB4Mjg1YjllIiwiXzB4M2Y4YjVhIiwiXzB4M2IwOGY3IiwiXzB4Y2JmMDQwIiwic2V0Iiwic2V0VGltZW91dCIsIl8weDU1NDNkZiIsInVwZGF0ZVN0b3JhZ2UiLCJfMHgyZGNmNjYiLCJfMHg0YTkyMTYiLCJfMHg0M2U5ZmIiLCJfMHg3NTc1NSIsIl8weDIyYzc0MiIsIl8weDUzZWU4NCIsIl8weDM1MGQwMyIsIl8weDQ2YmI0NCIsInVwZGF0ZSIsIl8weDNlNjI2ZCIsInJlbW92ZUZyb21TdG9yYWdlIiwiXzB4MjgwZjA5IiwiXzB4MWJmNDk0IiwiXzB4NGMxZjBkIiwiXzB4NTNhOTA0IiwicmVtb3ZlIiwiXzB4MTU5YTljIl0sIm1hcHBpbmdzIjoicW9CQUtBLE9BQVMsUUFBVCxLLGdCQUFBLENBQ0EsT0FBUyxHQUFULENBQWMsT0FBZCxDQUF1QixH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b0IsQ0FBQyxDQUFFOUMsV0FBQSxDQUFBK0MsU0FBRixDQUFlN0MsSUFBQSxDQUFBOEMsU0FBZixDQUFxQjVDLGlCQUFBLENBQUE2QyxTQUFyQixDQUF3QzNDLGNBQUEsQ0FBQTRDLFNBQXhDLENBQUQsRywyQkFDL0IsT0FBUUgsU0FBUixFQUNFLEtBQUtwQyxRQUFBLEMsZ0JBQUEsRSxRQUFBLEUsT0FBQSxDQUFMLENBQ0UsT0FBT0MsWUFBQSxDLGdCQUFBLEVBQXdCb0MsU0FBeEIsQ0FBUCxDQUNBLE1BQ0YsS0FBS3JDLFFBQUEsQyxnQkFBQSxFLGdCQUFBLEUsZ0JBQUEsQ0FBTCxDQUNFLE9BQU9HLGNBQUEsQyxnQkFBQSxFQUEwQmtDLFNBQTFCLENBQVAsQ0FDQSxNQUNGLEtBQUtyQyxRQUFBLEMsZ0JBQUEsRSxnQkFBQSxFLElBQUEsQ0FBTCxDQUNFd0MsTUFBQSxDQUFPbkMsR0FBQSxDQUFJQyxLQUFKLENBQVcrQixTQUFYLENBQVAsRSxnQkFBQSxFQUNRLEksMkJBQ0FDLFMsRUFDRixDQUFBQSxTQUFBLENBQ0loQixVQUFBLENBQVcsSUFBTWdCLFNBQUEsRUFBakIsQ0FBc0N0QyxRQUFBLEMsZ0JBQUEsRSxnQkFBQSxFLE1BQUEsRSxLQUF0QyxDQURKLENBRUksSUFGSixDLEVBSE4sRSxnQkFBQSxFQVFVeUMsU0FBRCxFLDJCQUNMRixTQUFBLENBQ0lBLFNBQUEsRUFESixDQUVJN0IsU0FBQSxDQUNFVixRQUFBLEMsZ0JBQUEsRSxnQkFBQSxFLE9BQUEsQ0FERixDQUVFQSxRQUFBLEMsZ0JBQUEsRSxVQUFBLEUsT0FBQSxDQUZGLENBR0V2QixXQUFBLEMsU0FBQSxFLGVBQUEsQ0FIRixDQUlFZ0UsU0FKRixDLEVBWFIsRUFrQkEsTUExQkosQyxDQURLIiwiZmlsZSI6Il9tYWluL3N0b3JhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluZm9ybWF0aW9uIHN0b3JhZ2UgY29udHJvbFxuICogLSBMb2NhbFN0b3JhZ2VcbiAqIC0gU2Vzc2lvblN0b3JhZ2VcbiAqL1xuaW1wb3J0IHsgQ09OU1RBTlQgfSBmcm9tIFwiLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IHJlZiwgb25WYWx1ZSwgc2V0LCB1cGRhdGUsIHJlbW92ZSB9IGZyb20gXCJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzEwLjQuMC9maXJlYmFzZS1kYXRhYmFzZS5qc1wiO1xuaW1wb3J0IHsgYmFwTm90aWZ5IH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgYmFwREIgfSBmcm9tIFwiLi9maXJlYmFzZUluaXQuanNcIjtcbmltcG9ydCB7IGdldEkxOG5Db250ZW50IH0gZnJvbSBcIi4vaTE4bi5qc1wiO1xuXG5jb25zdCBzdG9yYWdlSTE4biA9IGdldEkxOG5Db250ZW50KCdwYWdlJywgJ2Nyb3NzJyk7XG5cbi8qKlxuICogRW5jcnlwdCBhbmQgZGVjcnlwdCBkYXRhXG4gKlxuICogQHBhcmFtIGRhdGE6IDxzdHJpbmc+XG4gKiBAcGFyYW0gc2VjcmV0S2V5OiA8c3RyaW5nPlxuICpcbiAqIEByZXR1cm5zIDxzdHJpbmc+IEVuY3J5cHRlZCBkYXRhXG4gKi9cbmNvbnN0IGVuY3J5cHREYXRhID0gKGRhdGEsIHNlY3JldEtleSkgPT4gYnRvYShkYXRhKSArIFwiL0AvXCIgKyBzZWNyZXRLZXk7XG5jb25zdCBkZWNyeXB0RGF0YSA9IChlbmNyeXB0ZWREYXRhKSA9PiBhdG9iKGVuY3J5cHRlZERhdGEuc3BsaXQoXCIvQC9cIilbMF0pO1xuXG4vKipcbiAqIERCIHJvdXRlc1xuICovXG5leHBvcnQgY29uc3QgZGJSb3V0ZXMgPSB7XG4gIHRlc3Q6IChwYXJhbSkgPT4gYC90ZXN0LyR7cGFyYW19YCxcbn07XG5cbi8qKlxuICogR2V0IGZyb20gc3RvcmFnZVxuICpcbiAqIEBwYXJhbSBzdG9yYWdlVHlwZTogPHN0cmluZz4gQ09OU1RBTlQuU1RPUkFHRS5TT1VSQ0UuKlxuICogQHBhcmFtIGl0ZW06IDxzdHJpbmc+IENPTlNUQU5ULlNUT1JBR0UuS0VZUyB8IGRiUm91dGVzXG4gKiBAcGFyYW0gY2FsbGJhY2tPblN1Y2Nlc3M6IDxjYWxsYmFjaz4gZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBzdWNjZXNzLiAoSnVzdCBmb3IgU1RPUkFHRS5TT1VSQ0UuREIpXG4gKiBAcGFyYW0gY2FsbEJhY2tPbkZhaWw6IDxjYWxsYmFjaz4gZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBmYWlsLiAoSnVzdCBmb3IgU1RPUkFHRS5TT1VSQ0UuREIpXG4gKiBAcGFyYW0gc2VjcmV0S2V5OiA8c3RyaW5nPiBJZiBpdCBpcyBzZXQsIGRhdGEgd2lsbCBiZSBkZWNyeXB0ZWQuIChKdXN0IGZvciBTVE9SQUdFLlNPVVJDRS5MT0NBTCBhbmQgU1RPUkFHRS5TT1VSQ0UuU0VTU0lPTilcbiAqXG4gKiBAcmV0dXJucyAqXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRGcm9tU3RvcmFnZSA9ICh7IHN0b3JhZ2VUeXBlLCBpdGVtLCBjYWxsYmFja09uU3VjY2VzcywgY2FsbEJhY2tPbkZhaWwsIHNlY3JldEtleSB9KSA9PiB7XG4gIGxldCB2YWx1ZTtcbiAgc3dpdGNoIChzdG9yYWdlVHlwZSkge1xuICAgIGNhc2UgQ09OU1RBTlQuU1RPUkFHRS5TT1VSQ0UuTE9DQUw6XG4gICAgICB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGl0ZW0pO1xuICAgICAgc2VjcmV0S2V5ID8gKHZhbHVlID0gZGVjcnlwdERhdGEodmFsdWUsIHNlY3JldEtleSkpIDogbnVsbDtcbiAgICAgIHJldHVybiB2YWx1ZSA/IEpTT04ucGFyc2UodmFsdWUpIDogbnVsbDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ09OU1RBTlQuU1RPUkFHRS5TT1VSQ0UuU0VTU0lPTjpcbiAgICAgIHZhbHVlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShpdGVtKTtcbiAgICAgIHNlY3JldEtleSA/ICh2YWx1ZSA9IGRlY3J5cHREYXRhKHZhbHVlLCBzZWNyZXRLZXkpKSA6IG51bGw7XG4gICAgICByZXR1cm4gdmFsdWUgPyBKU09OLnBhcnNlKHZhbHVlKSA6IG51bGw7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENPTlNUQU5ULlNUT1JBR0UuU09VUkNFLkRCOlxuICAgICAgY29uc3QgZGJDb25uZWN0aW9uID0gcmVmKGJhcERCLCBpdGVtKTtcbiAgICAgIG9uVmFsdWUoXG4gICAgICAgIGRiQ29ubmVjdGlvbixcbiAgICAgICAgKHNuYXBzaG90KSA9PiAoY2FsbGJhY2tPblN1Y2Nlc3MgPyBjYWxsYmFja09uU3VjY2VzcyhzbmFwc2hvdC52YWwoKSkgOiBudWxsKSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgY2FsbEJhY2tPbkZhaWxcbiAgICAgICAgICAgID8gY2FsbEJhY2tPbkZhaWwoKVxuICAgICAgICAgICAgOiBiYXBOb3RpZnkoXG4gICAgICAgICAgICAgICAgQ09OU1RBTlQuTk9USUZJQ0FUSU9OLlRZUEUuQUxFUlQsXG4gICAgICAgICAgICAgICAgQ09OU1RBTlQuTk9USUZJQ0FUSU9OLlNFVkVSSVRZLkVSUk9SLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VJMThuLnN0b3JhZ2UuZXJyb3JHZXR0aW5nLFxuICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuLyoqXG4gKiBTZXQgdG8gc3RvcmFnZVxuICpcbiAqIEBwYXJhbSBzdG9yYWdlVHlwZTogPHN0cmluZz4gQ09OU1RBTlQuU1RPUkFHRS5TT1VSQ0UuKlxuICogQHBhcmFtIGl0ZW06IDxzdHJpbmc+IENPTlNUQU5ULlNUT1JBR0UuS0VZUyB8IGRiUm91dGVzXG4gKiBAcGFyYW0gdmFsdWU6IDxzdHJpbmd8b2JqZWN0PlxuICogQHBhcmFtIGNhbGxiYWNrT25TdWNjZXNzOiA8Y2FsbGJhY2s+IGZ1bmN0aW9uIHRvIGV4ZWN1dGUgb24gc3VjY2Vzcy4gKEp1c3QgZm9yIFNUT1JBR0UuU09VUkNFLkRCKVxuICogQHBhcmFtIGNhbGxCYWNrT25GYWlsOiA8Y2FsbGJhY2s+IGZ1bmN0aW9uIHRvIGV4ZWN1dGUgb24gZmFpbC4oSnVzdCBmb3IgU1RPUkFHRS5TT1VSQ0UuREIpXG4gKiBAcGFyYW0gc2VjcmV0S2V5OiA8c3RyaW5nPiBJZiBpdCBpcyBzZXQsIGRhdGEgd2lsbCBiZSBkZWNyeXB0ZWQuKEp1c3QgZm9yIFNUT1JBR0UuU09VUkNFLkxPQ0FMIGFuZCBTVE9SQUdFLlNPVVJDRS5TRVNTSU9OKVxuICpcbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFRvU3RvcmFnZSA9ICh7IHN0b3JhZ2VUeXBlLCBpdGVtLCB2YWx1ZSwgY2FsbGJhY2tPblN1Y2Nlc3MsIGNhbGxCYWNrT25GYWlsLCBzZWNyZXRLZXkgfSkgPT4ge1xuICBzd2l0Y2ggKHN0b3JhZ2VUeXBlKSB7XG4gICAgY2FzZSBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS5MT0NBTDpcbiAgICAgIGNvbnN0IGxvY2FsRGF0YSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGl0ZW0sIHNlY3JldEtleSA/IGVuY3J5cHREYXRhKGxvY2FsRGF0YSwgc2VjcmV0S2V5KSA6IGxvY2FsRGF0YSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENPTlNUQU5ULlNUT1JBR0UuU09VUkNFLlNFU1NJT046XG4gICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oaXRlbSwgc2VjcmV0S2V5ID8gZW5jcnlwdERhdGEoc2Vzc2lvbkRhdGEsIHNlY3JldEtleSkgOiBzZXNzaW9uRGF0YSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENPTlNUQU5ULlNUT1JBR0UuU09VUkNFLkRCOlxuICAgICAgc2V0KHJlZihiYXBEQiwgaXRlbSksIHZhbHVlKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgY2FsbGJhY2tPblN1Y2Nlc3NcbiAgICAgICAgICAgID8gc2V0VGltZW91dCgoKSA9PiBjYWxsYmFja09uU3VjY2VzcygpLCBDT05TVEFOVC5OT1RJRklDQVRJT04uQVVUT19SRU1PVkVfQUZURVIuSU5GTyArIDIwMDApXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBjYWxsQmFja09uRmFpbFxuICAgICAgICAgICAgPyBjYWxsQmFja09uRmFpbCgpXG4gICAgICAgICAgICA6IGJhcE5vdGlmeShcbiAgICAgICAgICAgICAgICBDT05TVEFOVC5OT1RJRklDQVRJT04uVFlQRS5BTEVSVCxcbiAgICAgICAgICAgICAgICBDT05TVEFOVC5OT1RJRklDQVRJT04uU0VWRVJJVFkuRVJST1IsXG4gICAgICAgICAgICAgICAgc3RvcmFnZUkxOG4uc3RvcmFnZS5lcnJvclNhdmluZyxcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0byBzdG9yYWdlXG4gKlxuICogQHBhcmFtIHN0b3JhZ2VUeXBlOiA8c3RyaW5nPiBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS4qXG4gKiBAcGFyYW0gaXRlbTogPHN0cmluZz4gQ09OU1RBTlQuU1RPUkFHRS5LRVlTIHwgZGJSb3V0ZXNcbiAqIEBwYXJhbSB2YWx1ZTogPHN0cmluZ3xvYmplY3Q+XG4gKiBAcGFyYW0gY2FsbGJhY2tPblN1Y2Nlc3M6IDxjYWxsYmFjaz4gZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBzdWNjZXNzLiAoSnVzdCBmb3IgU1RPUkFHRS5TT1VSQ0UuREIpXG4gKiBAcGFyYW0gY2FsbEJhY2tPbkZhaWw6IDxjYWxsYmFjaz4gZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBmYWlsLihKdXN0IGZvciBTVE9SQUdFLlNPVVJDRS5EQilcbiAqIEBwYXJhbSBzZWNyZXRLZXk6IDxzdHJpbmc+IElmIGl0IGlzIHNldCwgZGF0YSB3aWxsIGJlIGRlY3J5cHRlZC4gKEp1c3QgZm9yIFNUT1JBR0UuU09VUkNFLkxPQ0FMIGFuZCBTVE9SQUdFLlNPVVJDRS5TRVNTSU9OKVxuICpcbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0b3JhZ2UgPSAoeyBzdG9yYWdlVHlwZSwgaXRlbSwgdmFsdWUsIGNhbGxiYWNrT25TdWNjZXNzLCBjYWxsQmFja09uRmFpbCwgc2VjcmV0S2V5IH0pID0+IHtcbiAgc3dpdGNoIChzdG9yYWdlVHlwZSkge1xuICAgIGNhc2UgQ09OU1RBTlQuU1RPUkFHRS5TT1VSQ0UuTE9DQUw6XG4gICAgICBjb25zdCBsb2NhbERhdGEgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpdGVtLCBzZWNyZXRLZXkgPyBlbmNyeXB0RGF0YShsb2NhbERhdGEsIHNlY3JldEtleSkgOiBsb2NhbERhdGEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS5TRVNTSU9OOlxuICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGl0ZW0sIHNlY3JldEtleSA/IGVuY3J5cHREYXRhKHNlc3Npb25EYXRhLCBzZWNyZXRLZXkpIDogc2Vzc2lvbkRhdGEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS5EQjpcbiAgICAgIHVwZGF0ZShyZWYoYmFwREIsIGl0ZW0pLCB2YWx1ZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChjYWxsYmFja09uU3VjY2Vzcykge1xuICAgICAgICAgICAgY2FsbGJhY2tPblN1Y2Nlc3NcbiAgICAgICAgICAgICAgPyBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrT25TdWNjZXNzKCksIENPTlNUQU5ULk5PVElGSUNBVElPTi5BVVRPX1JFTU9WRV9BRlRFUi5JTkZPICsgMjAwMClcbiAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGNhbGxCYWNrT25GYWlsXG4gICAgICAgICAgICA/IGNhbGxCYWNrT25GYWlsKClcbiAgICAgICAgICAgIDogYmFwTm90aWZ5KFxuICAgICAgICAgICAgICAgIENPTlNUQU5ULk5PVElGSUNBVElPTi5UWVBFLkFMRVJULFxuICAgICAgICAgICAgICAgIENPTlNUQU5ULk5PVElGSUNBVElPTi5TRVZFUklUWS5FUlJPUixcbiAgICAgICAgICAgICAgICBzdG9yYWdlSTE4bi5zdG9yYWdlLmVycm9yVXBkYXRpbmcsXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmUgZnJvbSBzdG9yYWdlXG4gKlxuICogQHBhcmFtIHN0b3JhZ2VUeXBlOiA8c3RyaW5nPiBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS4qXG4gKiBAcGFyYW0gaXRlbTogPHN0cmluZz4gQ09OU1RBTlQuU1RPUkFHRS5LRVlTIHwgZGJSb3V0ZXNcbiAqIEBwYXJhbSBjYWxsYmFja09uU3VjY2VzczogPGNhbGxiYWNrPiBmdW5jdGlvbiB0byBleGVjdXRlIG9uIHN1Y2Nlc3MuIChKdXN0IGZvciBTVE9SQUdFLlNPVVJDRS5EQilcbiAqIEBwYXJhbSBjYWxsQmFja09uRmFpbDogPGNhbGxiYWNrPiBmdW5jdGlvbiB0byBleGVjdXRlIG9uIGZhaWwuIChKdXN0IGZvciBTVE9SQUdFLlNPVVJDRS5EQilcbiAqXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVGcm9tU3RvcmFnZSA9ICh7IHN0b3JhZ2VUeXBlLCBpdGVtLCBjYWxsYmFja09uU3VjY2VzcywgY2FsbEJhY2tPbkZhaWwgfSkgPT4ge1xuICBzd2l0Y2ggKHN0b3JhZ2VUeXBlKSB7XG4gICAgY2FzZSBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS5MT0NBTDpcbiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ09OU1RBTlQuU1RPUkFHRS5TT1VSQ0UuU0VTU0lPTjpcbiAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGl0ZW0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDT05TVEFOVC5TVE9SQUdFLlNPVVJDRS5EQjpcbiAgICAgIHJlbW92ZShyZWYoYmFwREIsIGl0ZW0pKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrT25TdWNjZXNzKSB7XG4gICAgICAgICAgICBjYWxsYmFja09uU3VjY2Vzc1xuICAgICAgICAgICAgICA/IHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2tPblN1Y2Nlc3MoKSwgQ09OU1RBTlQuTk9USUZJQ0FUSU9OLkFVVE9fUkVNT1ZFX0FGVEVSLklORk8gKyAyMDAwKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgY2FsbEJhY2tPbkZhaWxcbiAgICAgICAgICAgID8gY2FsbEJhY2tPbkZhaWwoKVxuICAgICAgICAgICAgOiBiYXBOb3RpZnkoXG4gICAgICAgICAgICAgICAgQ09OU1RBTlQuTk9USUZJQ0FUSU9OLlRZUEUuQUxFUlQsXG4gICAgICAgICAgICAgICAgQ09OU1RBTlQuTk9USUZJQ0FUSU9OLlNFVkVSSVRZLkVSUk9SLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VJMThuLnN0b3JhZ2UuZXJyb3JSZW1vdmluZyxcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG59OyJdfQ==
